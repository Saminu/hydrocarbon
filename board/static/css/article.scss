@charset "UTF-8";

// 	
// 	article.scss
// 		the main article
// 	

.section.article {
	.item.article {
		.header {
			.title {
				background:$grey-95; font-size:0; padding:10px 5%;

				.category {
					color:$darkgrey; display:table-cell; font-size:$font-size; white-space:nowrap;
					.handle.label.meta { padding-left:2px; }
				}
				h2 { display:table-cell; font-size:22px; font-weight:normal; line-height:28px; padding-left:10px; vertical-align:baseline; }

				.label.meta.comments {
					margin-left:.5em; vertical-align:text-bottom;
					&:hover { color:$black; opacity:.6; }
				}
			}
			
			div.meta {
				background:$grey-90; padding:5px 5%;
				.label.meta { margin-right:5px; }
			}

			@media screen and (max-device-width: $medium) {
				.title h2 { font-size:18px; line-height:24px; }
				div.meta .label.meta .text { font-size:$font-size - 1; }
			}

			@media screen and (max-device-width: $small) {
				.title h2 { font-size:16px; line-height:22px; }
				div.meta .label.meta {
					.icon { margin-right:2px; }
					.text {
						font-size:0;
						span { font-size:$font-size - 2; }
					}
				}
			}
		}

		div.article {
			width:540px; line-height:20px; margin:20px auto !important;

			@media screen and (max-device-width: $medium) { width:90%; }

			img { max-width:100%; }
			li { list-style-position:inside; }
			p { margin:0 0 1em; }
		}

		.vote.vote-post {
			font-size:0; margin:30px 0; text-align:center;

			a {
				width:80px; border-radius:2px; color:$white; display:inline-block; margin:0 5px; opacity:.5; padding:5px 0; transition:opacity .2s ease;

				.icon {
					height:20px; background:url("../img/vote_1x.png") no-repeat; background-size:20px; display:block;

					@media
					screen and (min-resolution: 1.1dppx) and (max-resolution: 2dppx),
					screen and (-webkit-min-device-pixel-ratio: 1.1) and (-webkit-max-device-pixel-ratio: 2) {
						background-image:url("../img/vote_2x.png"); 
					}

					@media
					screen and (min-resolution: 2.1dppx) and (max-resolution: 3dppx),
					screen and (-webkit-min-device-pixel-ratio: 2.1) and (-webkit-max-device-pixel-ratio: 3) {
						background-image:url("../img/vote_3x.png");
					}
				}
				.text { display:block; font-size:$font-size; line-height:20px; }

				&:hover { opacity:.7; }
				&:active { opacity:1; }
				&.voted { opacity:.9; }

				&.upvote { background:$blue-base; }
				&.upvote .icon { background-position:50% 0; }
				&.downvote { background:$red; }
				&.downvote .icon { background-position:50% -20px; }
			}
		}

		.footer {
			margin:0 5%; padding:5px 3%;
			.icon { margin-right:4px; }
		}
	}

	.comments-list {
		border-top:1px solid $grey-90; margin:0 5%; padding:10px 7% 0; -webkit-tap-highlight-color: rgba(0,0,0,0);

		@media screen and (max-device-width: $medium) { margin:0 2%; padding:10px 5% 0; }
		@media screen and (max-device-width: $small) { margin:0; padding:10px 2% 0; }

		li.list.item,
		li.write,
		li.modify { list-style:none; }
		.list.item {
			&.guest, &.owned {
				.comment .bubble.item .header .dropdown li.manipulate { display:block; }
			}
		}

		.comment {
			.bubble {
				&.item {
					background:$grey-95; border-left:5px solid transparent; border-radius:4px; line-height:20px; padding-right:5px;

					.header {
						border-bottom:1px solid $grey-90; margin:0 10px; padding:5px 0;
						.meta { display:inline-block; font-size:$font-size; vertical-align:top; }
						.meta + .meta { margin-left:5px; }
						.meta.timestamp { color:#808080; font-size:$font-size - 2; }

						.dropdown {
							&.container { display:inline-block; }
							&.handle .icon { margin:4px; }

							.tip { padding:0 5px; text-align:right; }

							&.menu {
								li.upvote.voted { background-color:$blue-base; }
								li.downvote.voted { background-color:$red; }
								li.manipulate { display:none; }
							}
						}
					}

					.article {
						padding:5px 10px;
						// textarea { min-height:80px; width:100%; max-width:100%; border:0; background:transparent; display:block; }
						.redactor-box {
							background:none; margin:0;
							.redactor-toolbar { background:none; border-bottom:1px solid $grey-90 !important; }
							.redactor-editor { min-height:80px !important; background:none; padding:5px 0; }
						}
					}

					.footer {
						border-top:1px solid $grey-90; margin:0 10px; padding:5px 0 10px;
						.nav { display:table-cell; font-size:0; line-height:0; padding:0; vertical-align:top; white-space:nowrap; }
						.ot {
							width:100%;
							label { width:30%;}
							.password { width:45%; }
						}
					}

					@media screen and (max-device-width: $medium) {
						.footer {
							label { width:40%; }
							label + label { width:60%; }
						}
					}
				}

				&.tip {
					height:10px; overflow:hidden; padding:0 6%; text-align:right;
					span { border-right-color:$grey-95; border-top-color:$grey-95; border-width:10px; }
				}
			}
		}

		.owned .comment {
			.bubble {
				&.item { border-left-color:$blue; }
				&.tip { text-align:left;
					span { border-left-color:$grey-95; border-right-color:transparent; }
				}
			} 
		}
	}

	.nav {
		background:$grey-95;
		@media screen and (max-device-width: $tiny) { .button.checkbox { display:none; } }
	}
}
